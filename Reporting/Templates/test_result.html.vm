<!DOCTYPE html>
<html>
    <head>
        <style>
            body {
                font-family: Lucida Sans Unicode,Lucida Grande,sans-serif;
                line-height: 1.2em;
                margin: 2em;
            }
			
			img {
				height: auto;
				width: 100%;
			}

			.image_block {
				max-width: 720px;
			}

            #test_name {
                font-family: Arial,Helvetica,sans-serif;
                font-size: 1.5em;
                font-weight: bold;
                margin-bottom: 0.7em;
            }
		
            .info {
                font-size: 0.8em;
                padding-left: 4em;
            }

            #test_status {
                padding: 1px 10px;
                font-weight: bold;
            }
		
            .passed_test {
                background-color: #44AA44;
            }
		
            .skipped_test {
                background-color: #FFAA00;
            }
		
            .failed_test {
                background-color: #FF4444;
            }
		
            #test_log {
                width: 100%;
            }		
		
            #test_log thead tr td {
                color: #AAA;
            }
		
            #test_log th {
                background-color: #CCC;
                border-color: #000000;
                border-style: solid;
                border-width: 1px 0 0;
                font-size: 1em;
                text-align: left;
                padding-left: 0.3em;
            }
		
            .time_col {
                width: 6em;
            }   
		
            .log_step {
                font-size: 0.8em;
                line-height: 1.2em;
            }
		
            .log_step:hover {
                background-color: #E0E0E0; 
            }
		
            .action_step {
                font-weight: bold;
            }

			.notify_step {
				background-color: #F1F1F1;
                font-style: italic;
            }
		
            .action_step td {
                padding-top: 0.5em;
            }

			.skipped_step {
                color: #FFA500;
                font-weight: bold;
            }
		
            .failed_step {
                color: #FF0000;
                font-weight: bold;
            }

			.stacktrace_step {
                background-color: #FFF0F0;
				color: #CD0000;
            }

        </style>
    </head>

	<body>
	    <div id="header">
	        <h1 id="test_name">$name</h1>
	        <p class="info">Test duration: <span>$duration</span>s</p>
			#if ($status == "Passed")
				#set($statusClass = "passed_test")
			#end
			#if ($status == "Skipped")
				#set($statusClass = "skipped_test")
			#end
			#if ($status == "Failed")
				#set($statusClass = "failed_test")
			#end
	        <p class="info">Status: <span id="test_status" class="$statusClass">$status</span></p>
	    </div>

		<div id="body">
		    <table id="test_log">
		        <thead>
		            <tr><th colspan="2">Detailed steps</th></tr>
		            <tr><td class="time_col">Time</td><td>Description</td></tr>
		        </thead>
		        <tbody>
					#foreach($message in $log)
						#set($messageClass = "log_step")
						#if ($message.Type == "ActionTitle")
							#set($messageClass = "$messageClass action_step")
						#end
						#if ($message.Type == "Notify")
							#set($messageClass = "$messageClass notify_step")
						#end
						#if ($message.Type == "Skipped")
							#set($messageClass = "$messageClass skipped_step")
						#end
						#if ($message.Type == "Failed")
							#set($messageClass = "$messageClass failed_step")
						#end
						#if ($message.Type == "Image")
							#set($messageClass = "$messageClass failed_step")
						#end
						#if ($message.Type == "StackTrace")
							#set($messageClass = "$messageClass stacktrace_step")
						#end				
						<tr class="$messageClass">
							<td valign="top" class="time_col">$message.GetTime</td>
							#if ($message.Type == "Image")
								<td><div class="image_block">
									<a href="$message.Message" title="Click to open in full size"><img src="$message.Message"></a>
								</div></td>
							#else
								<td>$message.Message</td>
							#end
						</tr>	
					#end
		        </tbody>
		    </table>
		</div>
	</body>
</html>


